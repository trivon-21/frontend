<!-- product-info.html — Product title, price, options, features, and action buttons -->
<div class="product-info">
  <!-- Stock Status Badge -->
  @if (product().inStock) {
    <div class="product-info__stock product-info__stock--in" aria-label="Stock status">
      <span class="product-info__stock-dot" aria-hidden="true"></span>
      In Stock
    </div>
  } @else {
    <div class="product-info__stock product-info__stock--out" aria-label="Stock status">
      <span class="product-info__stock-dot product-info__stock-dot--out" aria-hidden="true"></span>
      Out of Stock
    </div>
  }

  <!-- Product Name -->
  <h2 class="product-info__name">{{ product().name }}</h2>

  <!-- Price — selected capacity price formatted with the DecimalPipe -->
  <div class="product-info__price" aria-label="Price">
    <span class="product-info__currency">{{ product().currency }}</span>
    <span class="product-info__amount">{{ displayPrice() | number: '1.0-0' }}</span>
  </div>

  <!-- Capacity Selector Dropdown -->
  <div class="product-info__field">
    <label class="product-info__label" for="capacity-select">Capacity</label>
    <select
      id="capacity-select"
      class="product-info__select"
      (change)="onCapacityChange($event)"
      [value]="selectedCapacity()?.label"
      aria-label="Select capacity"
    >
      @for (option of product().capacityOptions; track option.label) {
        <option [value]="option.label">
          {{ option.label }} – {{ product().currency }} {{ option.price | number: '1.0-0' }}
        </option>
      }
    </select>
  </div>

  <!-- Specification Acknowledgment Checkbox -->
  <label class="product-info__checkbox-label">
    <input
      type="checkbox"
      class="product-info__checkbox"
      [checked]="hasAcknowledged()"
      (change)="toggleAcknowledged()"
      aria-label="I'm aware of this product specifications"
    />
    I'm aware of this product specifications
  </label>

  <!-- Section Divider -->
  <div class="product-info__divider" role="separator" aria-hidden="true"></div>

  <!-- Product Description -->
  <div class="product-info__description-section">
    <h3 class="product-info__section-heading">Product Description</h3>
    <p class="product-info__description">{{ product().description }}</p>

    <!-- Feature Bullet Points -->
    <ul class="product-info__features" aria-label="Product features">
      @for (feature of product().features; track feature) {
        <li class="product-info__feature-item">
          <!-- Green checkmark icon -->
          <svg class="product-info__check-icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path
              d="M9 12l2 2 4-4"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
          </svg>
          <span>{{ feature }}</span>
        </li>
      }
    </ul>
  </div>

  <!-- Section Divider -->
  <div class="product-info__divider" role="separator" aria-hidden="true"></div>

  <!-- Quantity Stepper -->
  <div class="product-info__quantity-row">
    <span class="product-info__label">Quantity:</span>
    <div class="product-info__quantity-ctrl" role="group" aria-label="Quantity selector">
      <button
        class="product-info__qty-btn"
        (click)="decrement()"
        aria-label="Decrease quantity"
        type="button"
        [disabled]="quantity() <= 1"
      >
        &minus;
      </button>
      <span class="product-info__qty-value" aria-live="polite" aria-atomic="true">
        {{ quantity() }}
      </span>
      <button
        class="product-info__qty-btn"
        (click)="increment()"
        aria-label="Increase quantity"
        type="button"
      >
        &plus;
      </button>
    </div>
  </div>

  <!-- Action Buttons -->
  <div class="product-info__actions">
    <!-- Add to Cart -->
    <button class="btn-add-to-cart" type="button" aria-label="Add to cart">
      <svg
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        class="btn-icon"
        aria-hidden="true"
      >
        <circle cx="9" cy="21" r="1" />
        <circle cx="20" cy="21" r="1" />
        <path d="M1 1h4l2.68 13.39a2 2 0 002 1.61h9.72a2 2 0 001.98-1.67l1.6-9.33H6" />
      </svg>
      Add to Cart
    </button>

    <!-- View Warranty Details -->
    <button class="btn-warranty" type="button" aria-label="View warranty details">
      <svg
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        class="btn-icon"
        aria-hidden="true"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"
        />
      </svg>
      View Warranty Details
    </button>
  </div>
</div>
